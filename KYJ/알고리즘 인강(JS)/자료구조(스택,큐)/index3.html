<html>
    <head>
        <meta charset="UTF-8">
        <title>크레인 인형뽑기(스택)</title>
    </head>
    <body>
        <script>
            function solution(board, moves){ // board : 게임판, moves : 멈춘위치
                let answer=0;
                let stack=[];
                moves.forEach(pos => { // pos는 크레인 위치를 의미한다.
                    for(let i=0; i<board.length; i++){ 
                        if(board[i][pos-1]!==0){ // board[i] : 행위치 [pos-1] : 열위치
                            let tmp=board[i][pos-1]; // 인형을 꺼냄
                            board[i][pos-1]=0;  // 인형을 꺼낸후 꺼낸 위치를 빈공간으로 만들어줌
                            if(tmp===stack[stack.length-1]){ // 꺼낸 인형이 stack의 가장 상단에 있는 인형과 같다면
                                stack.pop(); // 가장 상단에 있는 인형만 꺼내줌
                                answer+=2; // 인형이 같아서 stack의 가장 상단에 있는 인형과 꺼낸 인형이 사라졌으므로 answer+2를 해준다.
                            }
                            else stack.push(tmp); // 꺼낸 인형과 stack의 상단에 있는 인형과 다르면 그냥 넣어줌
                            break; // 있는 것을 다 꺼내버릴수 있으므로 하나만 꺼내기 위해 중단점 break를 만들어야 한다.
                        }
                    }
                });
                                
                return answer;
            }
            
            let a=[[0,0,0,0,0],
                   [0,0,1,0,3],
                   [0,2,5,0,1],
                   [4,2,4,4,2],
                   [3,5,1,3,1]];

            let b=[1, 5, 3, 5, 1, 2, 1, 4];
            console.log(solution(a, b));
        </script>
    </body>
</html>